# Netlify configuration file
# https://docs.netlify.com/configure-builds/file-based-configuration/

# Build settings
[build]
  publish = "."
  command = "echo 'Static site - no build required'"

# Headers for better caching and security
# Cache images - Recursive for all image types
[[headers]]
  for = "/**/*.jpg"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/**/*.jpeg"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/**/*.png"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/**/*.gif"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/**/*.webp"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/**/*.svg"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# Force revalidation for code and data - Aggressive no-cache for HTML
[[headers]]
  for = "/**/*.html"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"
    Pragma = "no-cache"
    Expires = "0"
    Netlify-CDN-Cache-Control = "no-store"
    Vary = "User-Agent"

# Root index and subpages without .html extension
[[headers]]
  for = "/"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"
    Pragma = "no-cache"
    Expires = "0"
    Netlify-CDN-Cache-Control = "no-store"
    Vary = "User-Agent"

[[headers]]
  for = "/projects/"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"
    Pragma = "no-cache"
    Expires = "0"
    Netlify-CDN-Cache-Control = "no-store"
    Vary = "User-Agent"

[[headers]]
  for = "/achievements/"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"
    Pragma = "no-cache"
    Expires = "0"
    Netlify-CDN-Cache-Control = "no-store"
    Vary = "User-Agent"

[[headers]]
  for = "/experience/"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"
    Pragma = "no-cache"
    Expires = "0"
    Netlify-CDN-Cache-Control = "no-store"
    Vary = "User-Agent"

[[headers]]
  for = "/publications/"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"
    Pragma = "no-cache"
    Expires = "0"
    Netlify-CDN-Cache-Control = "no-store"
    Vary = "User-Agent"

[[headers]]
  for = "/**/*.js"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"
    Pragma = "no-cache"
    Expires = "0"
    Netlify-CDN-Cache-Control = "no-store"
    Vary = "User-Agent"

[[headers]]
  for = "/**/*.css"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"
    Pragma = "no-cache"
    Expires = "0"
    Netlify-CDN-Cache-Control = "no-store"
    Vary = "User-Agent"

[[headers]]
  for = "/**/*.json"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"
    Pragma = "no-cache"
    Expires = "0"
    Netlify-CDN-Cache-Control = "no-store"
    Vary = "User-Agent"

# Redirects for clean URLs
[[redirects]]
  from = "/experience"
  to = "/experience/"
  status = 301

[[redirects]]
  from = "/publications"
  to = "/publications/"
  status = 301

[[redirects]]
  from = "/projects"
  to = "/projects/"
  status = 301

[[redirects]]
  from = "/achievements"
  to = "/achievements/"
  status = 301
